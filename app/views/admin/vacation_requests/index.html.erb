<div class="container py-4">
  <h1 class="mb-3">Solicitacoes de ferias</h1>

  <% if @vacation_requests.any? %>
    <div class="table-responsive">
      <table class="table table-striped align-middle">
        <thead>
          <tr>
            <th>Usuario</th>
            <th>Periodo</th>
            <th>Status</th>
            <th class="text-end">Acoes</th>
          </tr>
        </thead>
        <tbody>
          <% @vacation_requests.each do |request| %>
            <tr>
              <td><%= request.user.email %></td>
              <td><%= request.period_label %></td>
              <td><span class="badge bg-secondary text-uppercase"><%= request.status_label %></span></td>
              <td class="text-end">
                <% if request.pending? %>
                  <%= link_to "Aprovar", approve_admin_vacation_request_path(request), data: { turbo_method: :patch }, class: "btn btn-sm btn-success" %>
                  <%= link_to "Recusar", reject_admin_vacation_request_path(request), data: { turbo_method: :patch }, class: "btn btn-sm btn-outline-danger" %>
                <% end %>
                <%= link_to "Excluir", admin_vacation_request_path(request), data: { turbo_method: :delete }, class: "btn btn-sm btn-outline-secondary" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <p>Nenhuma solicitacao ainda.</p>
  <% end %>
</div>
